<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>对分易自动签到助手</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>对分易自动签到助手</h1>
            <p class="subtitle">2024.9.18 - 前端版本</p>
        </header>

        <main>
            <!-- 选项卡 -->
            <div class="tabs">
                <button class="tab-button active" data-tab="wechat">微信链接登录</button>
                <button class="tab-button" data-tab="password">账号密码登录</button>
            </div>

            <!-- 微信登录标签页 -->
            <div id="wechat" class="tab-content active">
                <div class="form-container">
                    <p class="instruction">支持二维码和签到码签到</p>
                    <p class="instruction">1. 打开电脑端微信，复制以下链接到文件传输助手：</p>
                    <div class="code-box">
                        https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx1b5650884f657981&redirect_uri=https://www.duifene.com/_FileManage/PdfView.aspx?file=https%3A%2F%2Ffs.duifene.com%2Fres%2Fr2%2Fu6106199%2F%E5%AF%B9%E5%88%86%E6%98%93%E7%99%BB%E5%BD%95_876c9d439ca68ead389c.pdf&response_type=code&scope=snsapi_userinfo&connect_redirect=1#wechat_redirect
                    </div>
                    <p class="instruction">2. 在微信浏览器中打开链接后，点击右上角三个点，复制链接</p>
                    <p class="instruction">3. 将复制的链接粘贴到下方输入框</p>

                    <label for="wechat-link">登录链接</label>
                    <input type="text" id="wechat-link" placeholder="粘贴微信登录链接">
                    <button class="btn btn-primary" id="wechat-login-btn">登录</button>
                </div>
            </div>

            <!-- 账密登录标签页 -->
            <div id="password" class="tab-content">
                <div class="form-container">
                    <p class="warning">注意：不支持二维码签到</p>

                    <label for="username">账号</label>
                    <input type="text" id="username" placeholder="输入账号">

                    <label for="password-input">密码</label>
                    <input type="password" id="password-input" placeholder="输入密码">

                    <label for="seconds">剩余倒计时X秒后签到</label>
                    <input type="number" id="seconds" value="10" min="0" max="120">

                    <button class="btn btn-primary" id="password-login-btn">登录</button>
                </div>
            </div>

            <!-- 课程选择和操作 -->
            <div id="course-section" class="course-section" style="display: none;">
                <div class="course-control">
                    <label for="course-select">选择课程</label>
                    <select id="course-select">
                        <option value="">-- 请选择课程 --</option>
                    </select>
                    <button class="btn btn-success" id="start-listen-btn">开始监听签到</button>
                </div>
            </div>

            <!-- 消息输出框 -->
            <div class="output-container">
                <h3>监听日志</h3>
                <div id="output-box" class="output-box"></div>
                <button class="btn btn-secondary" id="clear-output-btn">清空日志</button>
            </div>

            <!-- 控制按钮 -->
            <div class="control-buttons">
                <button class="btn btn-danger" id="stop-listen-btn" style="display: none;">停止监听</button>
                <button class="btn btn-warning" id="logout-btn" style="display: none;">退出登录</button>
            </div>
        </main>

        <footer>
            <p>© 2024 对分易自动签到助手</p>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>
